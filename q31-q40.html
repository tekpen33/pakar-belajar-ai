<!doctype html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Angket Lingkungan Belajar</title>
    <link rel="stylesheet" href="style_q21-q30.css" />
  </head>

  <body>
    <h2>Faktor 4 — Lingkungan Belajar</h2>
    <p>Pilih salah satu jawaban yang paling sesuai dengan kondisi Anda.</p>

    <form id="angket-lingkungan">
      <!-- Q31 -->
      <div class="question-block">
        <p>Q31. Lingkungan tempat saya belajar cukup tenang dan nyaman.</p>
        <div class="likert">
          <span>Setuju</span>
          <input type="radio" name="q31" id="q31-7" value="7" /><label
            for="q31-7"
          ></label>
          <input type="radio" name="q31" id="q31-6" value="6" /><label
            for="q31-6"
          ></label>
          <input type="radio" name="q31" id="q31-5" value="5" /><label
            for="q31-5"
          ></label>
          <input type="radio" name="q31" id="q31-4" value="4" /><label
            for="q31-4"
          ></label>
          <input type="radio" name="q31" id="q31-3" value="3" /><label
            for="q31-3"
          ></label>
          <input type="radio" name="q31" id="q31-2" value="2" /><label
            for="q31-2"
          ></label>
          <input type="radio" name="q31" id="q31-1" value="1" /><label
            for="q31-1"
          ></label>
          <span>Tidak setuju</span>
        </div>
      </div>

      <!-- Q32 -->
      <div class="question-block">
        <p>Q32. Saya memiliki tempat khusus untuk belajar.</p>
        <div class="likert">
          <span>Setuju</span>
          <input type="radio" name="q32" id="q32-7" value="7" /><label
            for="q32-7"
          ></label>
          <input type="radio" name="q32" id="q32-6" value="6" /><label
            for="q32-6"
          ></label>
          <input type="radio" name="q32" id="q32-5" value="5" /><label
            for="q32-5"
          ></label>
          <input type="radio" name="q32" id="q32-4" value="4" /><label
            for="q32-4"
          ></label>
          <input type="radio" name="q32" id="q32-3" value="3" /><label
            for="q32-3"
          ></label>
          <input type="radio" name="q32" id="q32-2" value="2" /><label
            for="q32-2"
          ></label>
          <input type="radio" name="q32" id="q32-1" value="1" /><label
            for="q32-1"
          ></label>
          <span>Tidak setuju</span>
        </div>
      </div>

      <!-- Q33 -->
      <div class="question-block">
        <p>Q33. Pencahayaan dan fasilitas belajar saya memadai.</p>
        <div class="likert">
          <span>Setuju</span>
          <input type="radio" name="q33" id="q33-7" value="7" /><label
            for="q33-7"
          ></label>
          <input type="radio" name="q33" id="q33-6" value="6" /><label
            for="q33-6"
          ></label>
          <input type="radio" name="q33" id="q33-5" value="5" /><label
            for="q33-5"
          ></label>
          <input type="radio" name="q33" id="q33-4" value="4" /><label
            for="q33-4"
          ></label>
          <input type="radio" name="q33" id="q33-3" value="3" /><label
            for="q33-3"
          ></label>
          <input type="radio" name="q33" id="q33-2" value="2" /><label
            for="q33-2"
          ></label>
          <input type="radio" name="q33" id="q33-1" value="1" /><label
            for="q33-1"
          ></label>
          <span>Tidak setuju</span>
        </div>
      </div>

      <!-- Q34 -->
      <div class="question-block">
        <p>Q34. Orang di sekitar saya mendukung kegiatan belajar saya.</p>
        <div class="likert">
          <span>Setuju</span>
          <input type="radio" name="q34" id="q34-7" value="7" /><label
            for="q34-7"
          ></label>
          <input type="radio" name="q34" id="q34-6" value="6" /><label
            for="q34-6"
          ></label>
          <input type="radio" name="q34" id="q34-5" value="5" /><label
            for="q34-5"
          ></label>
          <input type="radio" name="q34" id="q34-4" value="4" /><label
            for="q34-4"
          ></label>
          <input type="radio" name="q34" id="q34-3" value="3" /><label
            for="q34-3"
          ></label>
          <input type="radio" name="q34" id="q34-2" value="2" /><label
            for="q34-2"
          ></label>
          <input type="radio" name="q34" id="q34-1" value="1" /><label
            for="q34-1"
          ></label>
          <span>Tidak setuju</span>
        </div>
      </div>

      <!-- Q35 -->
      <div class="question-block">
        <p>Q35. Saya jarang terganggu oleh kebisingan saat belajar.</p>
        <div class="likert">
          <span>Setuju</span>
          <input type="radio" name="q35" id="q35-7" value="7" /><label
            for="q35-7"
          ></label>
          <input type="radio" name="q35" id="q35-6" value="6" /><label
            for="q35-6"
          ></label>
          <input type="radio" name="q35" id="q35-5" value="5" /><label
            for="q35-5"
          ></label>
          <input type="radio" name="q35" id="q35-4" value="4" /><label
            for="q35-4"
          ></label>
          <input type="radio" name="q35" id="q35-3" value="3" /><label
            for="q35-3"
          ></label>
          <input type="radio" name="q35" id="q35-2" value="2" /><label
            for="q35-2"
          ></label>
          <input type="radio" name="q35" id="q35-1" value="1" /><label
            for="q35-1"
          ></label>
          <span>Tidak setuju</span>
        </div>
      </div>

      <!-- Q36 -->
      <div class="question-block">
        <p>
          Q36. Saya merasa aman dan nyaman ketika belajar di rumah atau tempat
          tinggal saya.
        </p>
        <div class="likert">
          <span>Setuju</span>
          <input type="radio" name="q36" id="q36-7" value="7" /><label
            for="q36-7"
          ></label>
          <input type="radio" name="q36" id="q36-6" value="6" /><label
            for="q36-6"
          ></label>
          <input type="radio" name="q36" id="q36-5" value="5" /><label
            for="q36-5"
          ></label>
          <input type="radio" name="q36" id="q36-4" value="4" /><label
            for="q36-4"
          ></label>
          <input type="radio" name="q36" id="q36-3" value="3" /><label
            for="q36-3"
          ></label>
          <input type="radio" name="q36" id="q36-2" value="2" /><label
            for="q36-2"
          ></label>
          <input type="radio" name="q36" id="q36-1" value="1" /><label
            for="q36-1"
          ></label>
          <span>Tidak setuju</span>
        </div>
      </div>

      <!-- Q37 -->
      <div class="question-block">
        <p>
          Q37. Saya memiliki akses terhadap alat dan sumber belajar yang
          dibutuhkan.
        </p>
        <div class="likert">
          <span>Setuju</span>
          <input type="radio" name="q37" id="q37-7" value="7" /><label
            for="q37-7"
          ></label>
          <input type="radio" name="q37" id="q37-6" value="6" /><label
            for="q37-6"
          ></label>
          <input type="radio" name="q37" id="q37-5" value="5" /><label
            for="q37-5"
          ></label>
          <input type="radio" name="q37" id="q37-4" value="4" /><label
            for="q37-4"
          ></label>
          <input type="radio" name="q37" id="q37-3" value="3" /><label
            for="q37-3"
          ></label>
          <input type="radio" name="q37" id="q37-2" value="2" /><label
            for="q37-2"
          ></label>
          <input type="radio" name="q37" id="q37-1" value="1" /><label
            for="q37-1"
          ></label>
          <span>Tidak setuju</span>
        </div>
      </div>

      <!-- Q38 -->
      <div class="question-block">
        <p>Q38. Lingkungan sosial saya tidak menghambat waktu belajar.</p>
        <div class="likert">
          <span>Setuju</span>
          <input type="radio" name="q38" id="q38-7" value="7" /><label
            for="q38-7"
          ></label>
          <input type="radio" name="q38" id="q38-6" value="6" /><label
            for="q38-6"
          ></label>
          <input type="radio" name="q38" id="q38-5" value="5" /><label
            for="q38-5"
          ></label>
          <input type="radio" name="q38" id="q38-4" value="4" /><label
            for="q38-4"
          ></label>
          <input type="radio" name="q38" id="q38-3" value="3" /><label
            for="q38-3"
          ></label>
          <input type="radio" name="q38" id="q38-2" value="2" /><label
            for="q38-2"
          ></label>
          <input type="radio" name="q38" id="q38-1" value="1" /><label
            for="q38-1"
          ></label>
          <span>Tidak setuju</span>
        </div>
      </div>

      <!-- Q39 -->
      <div class="question-block">
        <p>
          Q39. Saya dapat berkonsentrasi dengan baik di lingkungan belajar saya.
        </p>
        <div class="likert">
          <span>Setuju</span>
          <input type="radio" name="q39" id="q39-7" value="7" /><label
            for="q39-7"
          ></label>
          <input type="radio" name="q39" id="q39-6" value="6" /><label
            for="q39-6"
          ></label>
          <input type="radio" name="q39" id="q39-5" value="5" /><label
            for="q39-5"
          ></label>
          <input type="radio" name="q39" id="q39-4" value="4" /><label
            for="q39-4"
          ></label>
          <input type="radio" name="q39" id="q39-3" value="3" /><label
            for="q39-3"
          ></label>
          <input type="radio" name="q39" id="q39-2" value="2" /><label
            for="q39-2"
          ></label>
          <input type="radio" name="q39" id="q39-1" value="1" /><label
            for="q39-1"
          ></label>
          <span>Tidak setuju</span>
        </div>
      </div>

      <!-- Q40 -->
      <div class="question-block">
        <p>
          Q40. Secara keseluruhan, lingkungan belajar saya mendukung
          keberhasilan belajar.
        </p>
        <div class="likert">
          <span>Setuju</span>
          <input type="radio" name="q40" id="q40-7" value="7" /><label
            for="q40-7"
          ></label>
          <input type="radio" name="q40" id="q40-6" value="6" /><label
            for="q40-6"
          ></label>
          <input type="radio" name="q40" id="q40-5" value="5" /><label
            for="q40-5"
          ></label>
          <input type="radio" name="q40" id="q40-4" value="4" /><label
            for="q40-4"
          ></label>
          <input type="radio" name="q40" id="q40-3" value="3" /><label
            for="q40-3"
          ></label>
          <input type="radio" name="q40" id="q40-2" value="2" /><label
            for="q40-2"
          ></label>
          <input type="radio" name="q40" id="q40-1" value="1" /><label
            for="q40-1"
          ></label>
          <span>Tidak setuju</span>
        </div>
      </div>

      <div class="navigation-buttons">
        <a href="q21-q30.html">
          <button type="button" class="btn-back">Kembali</button>
        </a>

        <button
          type="button"
          class="btn-next"
          onclick="simpanF4DanLihatHasil()"
        >
          Lihat Hasil
        </button>
      </div>
    </form>

    <script>
      function simpanF4DanLihatHasil() {
        let answers = {};
        let total = 0;
        const jumlahSoal = 10;
        const skorMaks = jumlahSoal * 7;

        for (let i = 31; i <= 40; i++) {
          const jawaban = document.querySelector(`input[name="q${i}"]:checked`);
          if (!jawaban) {
            alert("Silakan jawab semua pertanyaan pada Faktor 4 (Q31–Q40).");
            return;
          }
          const value = parseInt(jawaban.value);
          answers["q" + i] = value;
          total += value;
        }

        const hasilAngket =
          JSON.parse(localStorage.getItem("hasilAngket")) || {};
        hasilAngket.F4 = {
          answers: answers, // Menyimpan jawaban individu
          total,
          maksimal: skorMaks,
          persentase: Math.round((total / skorMaks) * 100),
        };

        let kategoriLingkungan = "";
        let rekomendasiLingkungan = "";

        if (hasilAngket.F4.persentase >= 80) {
          kategoriLingkungan = "Sangat Mendukung";
          rekomendasiLingkungan =
            "Pertahankan lingkungan belajar yang sudah baik dan konsisten.";
        } else if (hasilAngket.F4.persentase >= 60) {
          kategoriLingkungan = "Cukup Mendukung";
          rekomendasiLingkungan =
            "Perbaiki beberapa aspek seperti pencahayaan atau gangguan suara.";
        } else {
          kategoriLingkungan = "Kurang Mendukung";
          rekomendasiLingkungan =
            "Disarankan menata ulang tempat belajar dan meminimalkan distraksi.";
        }

        hasilAngket.F4.kategori = kategoriLingkungan;
        hasilAngket.F4.rekomendasiPakar = rekomendasiLingkungan;

        localStorage.setItem("hasilAngket", JSON.stringify(hasilAngket));
        window.location.href = "hasil.html";
      }
    </script>
  </body>
</html>
